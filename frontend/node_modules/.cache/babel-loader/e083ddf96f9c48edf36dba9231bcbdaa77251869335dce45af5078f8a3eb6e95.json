{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getProjects,deleteProject}from'../../services/projectService';import ProjectForm from'./ProjectForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectList=()=>{const[projects,setProjects]=useState([]);const[selectedProject,setSelectedProject]=useState(null);const[showForm,setShowForm]=useState(false);const fetchProjects=async()=>{try{const data=await getProjects();setProjects(data);}catch(error){var _error$response;console.error('Error fetching projects:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}};useEffect(()=>{fetchProjects();},[]);const handleEdit=project=>{setSelectedProject(project);setShowForm(true);};const handleDelete=async projectId=>{try{await deleteProject(projectId);fetchProjects();}catch(error){var _error$response2;console.error('Error deleting project:',((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);}};const handleSuccess=()=>{fetchProjects();setShowForm(false);setSelectedProject(null);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Projects\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),children:\"Create New Project\"}),showForm&&/*#__PURE__*/_jsx(ProjectForm,{project:selectedProject,onSuccess:handleSuccess}),/*#__PURE__*/_jsx(\"ul\",{children:projects.map(project=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:project.name}),/*#__PURE__*/_jsx(\"p\",{children:project.description}),/*#__PURE__*/_jsxs(\"p\",{children:[project.startDate,\" - \",project.endDate]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",project.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",project.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Progress: \",project.progress,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Funds: $\",project.funds]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(project),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(project._id),children:\"Delete\"})]},project._id))})]});};export default ProjectList;","map":{"version":3,"names":["React","useState","useEffect","getProjects","deleteProject","ProjectForm","jsx","_jsx","jsxs","_jsxs","ProjectList","projects","setProjects","selectedProject","setSelectedProject","showForm","setShowForm","fetchProjects","data","error","_error$response","console","response","message","handleEdit","project","handleDelete","projectId","_error$response2","handleSuccess","children","onClick","onSuccess","map","name","description","startDate","endDate","location","status","progress","funds","_id"],"sources":["C:/Local4Global/frontend/src/components/Projects/ProjectList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getProjects, deleteProject } from '../../services/projectService';\r\nimport ProjectForm from './ProjectForm';\r\n\r\nconst ProjectList = () => {\r\n  const [projects, setProjects] = useState([]);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const data = await getProjects();\r\n      setProjects(data);\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error.response?.data || error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProjects();\r\n  }, []);\r\n\r\n  const handleEdit = (project) => {\r\n    setSelectedProject(project);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (projectId) => {\r\n    try {\r\n      await deleteProject(projectId);\r\n      fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error deleting project:', error.response?.data || error.message);\r\n    }\r\n  };\r\n\r\n  const handleSuccess = () => {\r\n    fetchProjects();\r\n    setShowForm(false);\r\n    setSelectedProject(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Projects</h1>\r\n      <button onClick={() => setShowForm(true)}>Create New Project</button>\r\n      {showForm && (\r\n        <ProjectForm project={selectedProject} onSuccess={handleSuccess} />\r\n      )}\r\n      <ul>\r\n        {projects.map(project => (\r\n          <li key={project._id}>\r\n            <h2>{project.name}</h2>\r\n            <p>{project.description}</p>\r\n            <p>{project.startDate} - {project.endDate}</p>\r\n            <p>Location: {project.location}</p>\r\n            <p>Status: {project.status}</p>\r\n            <p>Progress: {project.progress}%</p>\r\n            <p>Funds: ${project.funds}</p>\r\n            <button onClick={() => handleEdit(project)}>Edit</button>\r\n            <button onClick={() => handleDelete(project._id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectList;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}